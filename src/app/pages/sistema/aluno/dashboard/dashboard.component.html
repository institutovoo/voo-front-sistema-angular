<app-sistema-layout [usuario]="usuario" tipoUsuario="aluno">
  <!-- Banner de Boas-vindas -->
  <section class="boas-vindas">
    <div class="boas-vindas__texto">
      <h1 class="boas-vindas__titulo">Ol√°, {{ nomeAluno }}! üëã</h1>
      <p class="boas-vindas__subtitulo">Continue de onde parou e alcance seus objetivos.</p>
    </div>
  </section>

  <!-- Estat√≠sticas -->
  <section class="estatisticas">
    <div class="estatisticas__grid">
      <app-card-kpi *ngFor="let stat of estatisticas" [estatistica]="stat"></app-card-kpi>
    </div>
  </section>

  <!-- Grid Principal -->
  <div class="grid-principal">
    <!-- Coluna Principal -->
    <div class="coluna-principal">
      <!-- Continue Aprendendo -->
      <section class="secao">
        <div class="secao__header">
          <h2 class="secao__titulo">Continue aprendendo</h2>
          <a routerLink="/aluno/meus-cursos" class="secao__link">Ver todos ‚Ä∫</a>
        </div>

        <div class="curso-destaque">
          <div class="curso-destaque__imagem">
            <img [src]="cursoAtual.imagem" [alt]="cursoAtual.titulo" />
            <button class="curso-destaque__play">
              <app-header-icone
                nome="play"
                [tamanho]="24"
                preenchimento="white"
                cor="none"
              ></app-header-icone>
            </button>
          </div>
          <div class="curso-destaque__info">
            <div class="curso-destaque__meta">
              <span
                class="curso-destaque__categoria"
                [style.background-color]="cursoAtual.categoriaColor"
              >
                {{ cursoAtual.categoria }}
              </span>
              <span class="curso-destaque__aula">
                Aula {{ cursoAtual.aulaAtual }} de {{ cursoAtual.totalAulas }}
              </span>
            </div>
            <h3 class="curso-destaque__titulo">{{ cursoAtual.titulo }}</h3>
            <p class="curso-destaque__modulo">{{ cursoAtual.modulo }}</p>
            <div class="curso-destaque__progresso">
              <app-barra-progresso [valor]="cursoAtual.progresso"></app-barra-progresso>
              <div class="curso-destaque__stats">
                <span>{{ cursoAtual.progresso }}% conclu√≠do</span>
                <span>Restam {{ cursoAtual.duracao }}</span>
              </div>
            </div>
            <button class="btn-continuar">Continuar assistindo</button>
          </div>
        </div>
      </section>

      <!-- Meus Cursos -->
      <section class="secao">
        <div class="secao__header">
          <h2 class="secao__titulo">Meus cursos</h2>
          <a routerLink="/aluno/meus-cursos" class="secao__link">Ver todos</a>
        </div>

        <div class="cursos-grid">
          <app-curso-card
            *ngFor="let curso of meusCursos"
            [curso]="curso"
            (acessar)="onAcessarCurso($event)"
          ></app-curso-card>
        </div>
      </section>
    </div>

    <!-- Coluna Lateral -->
    <aside class="coluna-lateral">
      <!-- Suporte R√°pido -->
      <section class="secao">
        <div class="secao__header">
          <h2 class="secao__titulo">Suporte</h2>
        </div>
        <div class="card-lateral suporte-card">
          <div class="suporte-card__icone">
            <app-header-icone nome="duvida" [tamanho]="32" cor="#21b7cd"></app-header-icone>
          </div>
          <div class="suporte-card__info">
            <h3 class="suporte-card__titulo">Precisa de ajuda?</h3>
            <p class="suporte-card__texto">Nossa equipe est√° pronta para tirar suas d√∫vidas.</p>
          </div>
          <button class="btn-suporte-lateral">
            <app-header-icone nome="mensagem" [tamanho]="18" cor="white"></app-header-icone>
            Falar com o suporte
          </button>
        </div>
      </section>

      <!-- Atividade Recente -->
      <section class="secao">
        <div class="secao__header">
          <h2 class="secao__titulo">Atividade recente</h2>
        </div>
        <div class="card-lateral">
          <div class="atividades">
            <app-atividade-item
              *ngFor="let atividade of atividadesRecentes"
              [atividade]="atividade"
            ></app-atividade-item>
          </div>
        </div>
      </section>
    </aside>
  </div>
</app-sistema-layout>
