import{a as M,b as F}from"./chunk-OUAWJTBF.js";import{a as L}from"./chunk-JCGCT4HV.js";import{c as m,e as x,f as S,g as _,h as u,j as N,l as A,m as w,t as y}from"./chunk-NSI4Y3D4.js";import{a as E}from"./chunk-CLTILNTY.js";import{Da as C,E as i,Ha as v,I as c,M as g,V as p,W as o,X as n,Y as s,ea as f,fa as b,ma as a,n as d,na as h}from"./chunk-X6FEOPPM.js";function G(r,l){if(r&1&&(o(0,"div",10),a(1),n()),r&2){let e=b();i(),h(e.erro)}}var k=class r{authController=d(F);formulario=new _({email:new u("",{validators:[m.required,m.email],nonNullable:!0}),senha:new u("",{validators:[m.required,m.minLength(6)],nonNullable:!0})});erro="";async enviar(){if(this.formulario.invalid){this.formulario.markAllAsTouched();return}this.erro="";let{email:l,senha:e}=this.formulario.getRawValue(),t=await this.authController.login({cpf_cnpj:l,senha:e});t.sucesso||(this.erro=t.mensagem||"Erro ao realizar login")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=c({type:r,selectors:[["app-admin-login"]],decls:13,vars:3,consts:[[1,"admin-autenticacao"],[1,"cartao"],["tema","light"],[1,"titulo","titulo--centro"],[1,"subtitulo","subtitulo--centro"],["class","mensagem-erro",4,"ngIf"],[1,"formulario",3,"ngSubmit","formGroup"],["rotulo","Email","tipo","email","placeholder","admin@voocursos.com.br","icone","email","formControlName","email"],["rotulo","Senha","tipo","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","icone","senha","formControlName","senha",3,"mostrarAlternarSenha"],["tipo","submit","variante","primario"],[1,"mensagem-erro"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"div",1),s(2,"app-logo",2),o(3,"h1",3),a(4,"Acesso administrativo"),n(),o(5,"p",4),a(6,"Entre para gerenciar cursos, provas e usu\xE1rios."),n(),g(7,G,2,1,"div",5),o(8,"form",6),f("ngSubmit",function(){return t.enviar()}),s(9,"app-campo",7)(10,"app-campo",8),o(11,"app-botao",9),a(12,"Entrar"),n()()()()),e&2&&(i(7),p("ngIf",t.erro),i(),p("formGroup",t.formulario),i(2),p("mostrarAlternarSenha",!0))},dependencies:[v,C,y,N,x,S,w,A,E,L,M],styles:[".admin-autenticacao[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;background:#0b1b2b;background:radial-gradient(1000px 300px at 20% -50%,rgba(33,183,205,.12),transparent 60%),#0b1b2b}.cartao[_ngcontent-%COMP%]{width:100%;max-width:520px;background:#fff;border-radius:20px;box-shadow:0 20px 40px #00000047;padding:28px;display:grid;gap:14px}.mensagem-erro[_ngcontent-%COMP%]{padding:12px;border-radius:8px;background-color:#fee2e2;color:#dc2626;font-size:14px;margin-bottom:16px;border:1px solid #fecaca}"]})};export{k as AdminLoginComponent};
